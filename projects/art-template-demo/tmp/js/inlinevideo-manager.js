var InlineVideo=function(){function i(){this.onVideoEnterFullScreen=null,this.onVideoExitFullScreen=null,this.onVideoEnd=null,this.isplay=!1}function e(){if(0==window.orientation||180==window.orientation)if(window.innerHeight>l&&!s){var i=window.innerHeight-l;null!=this.onVideoEnterFullScreen&&this.onVideoEnterFullScreen(i),s=!0}else null!=this.onVideoExitFullScreen&&this.onVideoExitFullScreen(),s=!1}function n(){ua.Android&&ua.isWeixin&&window.addEventListener("resize",e,!1),c=!0,requestAnimationFrame(t),r.addEventListener("ended",function(){InlineVideo.onVideoEnd&&InlineVideo.onVideoEnd()})}function t(){if(null!=r){var i=r.currentTime;for(var e in d){var n=d[e],o=n.time;n.id;if(i>o&&i<o+u&&!n.active){n.callback(),n.active=!0;break}}}c&&requestAnimationFrame(t)}var o,l,r=null,a=!1,d=[],u=2,s=!1,c=!1;return i.init=function(i,e,t,d){o=window.innerWidth,l=window.innerHeight,void 0!=i&&(!a&&ua.iOS&&makeVideoPlayableInline(video,!0),e=e||640,t=t||1138,r=i,r.className="IIV",r.style.width=e+"px",r.style.height=t+"px",r.setAttribute("poster",d||""),r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),r.setAttribute("preload","auto"),r.setAttribute("x5-video-player-type","h5"),r.setAttribute("x5-video-player-fullscreen","true"),r.setAttribute("x5-video-orientation","portraint"),n(),a=!0)},i.show=function(){r.style.display="block",InlineVideo.play()},i.hide=function(){InlineVideo.pause(),r.style.display="none",r.setAttribute("z-index","-1")},i.play=function(){r.play(),InlineVideo.isplay=!0},i.pause=function(){r.pause(),InlineVideo.isplay=!1},i.addMonitor=function(i,e){var n={active:!1,id:d.length,time:i,callback:e};d.push(n)},i.cleanMonitor=function(i,e){d=[]},i.resetMonitors=function(){for(var i in d)d[i].active=!1},i}();